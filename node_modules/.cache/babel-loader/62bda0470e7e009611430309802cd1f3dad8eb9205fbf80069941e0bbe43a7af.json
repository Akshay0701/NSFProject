{"ast":null,"code":"var _s = $RefreshSig$();\n// src/hooks/useIntroPage.js\nimport { useCallback, useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { toast } from 'react-toastify';\nimport roomService from '../services/roomService';\nconst useIntroPage = () => {\n  _s();\n  const navigate = useNavigate();\n  const [roomID, setRoomID] = useState('');\n  const [error, setError] = useState('');\n  const [userRooms, setUserRooms] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const userEmail = localStorage.getItem('userEmail');\n  const createRoom = useCallback(async creatorID => {\n    try {\n      const result = await roomService.createRoom(creatorID);\n      toast.success('Room created successfully.');\n      return result; // { message, RoomID }\n    } catch (err) {\n      console.error(err);\n      toast.error('Failed to create room.');\n      throw err;\n    }\n  }, []);\n  const getRoomsByEmail = useCallback(async email => {\n    try {\n      const data = await roomService.getRoomsByEmail(email);\n      return data.rooms || [];\n    } catch (err) {\n      console.error(err);\n      toast.error('Failed to fetch rooms by email.');\n      return [];\n    }\n  }, []);\n  const removeRoom = useCallback(async ({\n    roomID,\n    email\n  }) => {\n    try {\n      const result = await roomService.removeRoomData({\n        roomID,\n        email\n      });\n      toast.success('Room removed successfully.');\n      return result;\n    } catch (err) {\n      console.error(err);\n      toast.error('Failed to remove room.');\n      throw err;\n    }\n  }, []);\n  const fetchRooms = useCallback(async () => {\n    if (!userEmail) {\n      toast.error('Please log in to view your rooms');\n      return;\n    }\n    setIsLoading(true);\n    try {\n      const rooms = await getRoomsByEmail(userEmail);\n      setUserRooms(rooms);\n    } catch {\n      toast.error('Could not fetch rooms');\n    } finally {\n      setIsLoading(false);\n    }\n  }, [userEmail, getRoomsByEmail]);\n  const handleJoinRoom = () => {\n    const trimmedID = roomID.trim();\n    if (!trimmedID) {\n      setError('Please enter a Room ID');\n      return;\n    }\n    setError('');\n    navigate(`/room/${trimmedID}`);\n  };\n  const handleCreateRoom = async () => {\n    if (!userEmail) {\n      toast.error('Please log in to create a room');\n      return;\n    }\n    setIsLoading(true);\n    try {\n      const trimmedID = roomID.trim();\n      let res = null; // ✅ use let instead of const\n\n      if (!trimmedID) {\n        res = await createRoom(userEmail);\n      } else {\n        res = await createRoom(userEmail, trimmedID);\n      }\n      const newRoomId = res.RoomID;\n      navigate(`/room/${newRoomId}`);\n    } catch {\n      toast.error('Failed to create room. Please try again.');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  const handleDeleteRoom = async roomID => {\n    if (!window.confirm('Are you sure you want to delete this room?')) return;\n    try {\n      await removeRoom({\n        roomID,\n        email: userEmail\n      });\n      fetchRooms();\n    } catch {\n      toast.error('Failed to delete room');\n    }\n  };\n  useEffect(() => {\n    fetchRooms();\n  }, [fetchRooms]);\n  return {\n    roomID,\n    setRoomID,\n    error,\n    setError,\n    isLoading,\n    userRooms,\n    handleJoinRoom,\n    handleCreateRoom,\n    handleDeleteRoom\n  };\n};\n_s(useIntroPage, \"Ez7QGmqx54sJS7sjDs1N0QQcizc=\", false, function () {\n  return [useNavigate];\n});\nexport default useIntroPage;","map":{"version":3,"names":["useCallback","useEffect","useState","useNavigate","toast","roomService","useIntroPage","_s","navigate","roomID","setRoomID","error","setError","userRooms","setUserRooms","isLoading","setIsLoading","userEmail","localStorage","getItem","createRoom","creatorID","result","success","err","console","getRoomsByEmail","email","data","rooms","removeRoom","removeRoomData","fetchRooms","handleJoinRoom","trimmedID","trim","handleCreateRoom","res","newRoomId","RoomID","handleDeleteRoom","window","confirm"],"sources":["/Users/akshayjadhav/Documents/GitHub/NSFResearchLocal/src/hooks/useIntroPage.js"],"sourcesContent":["// src/hooks/useIntroPage.js\nimport { useCallback, useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { toast } from 'react-toastify';\nimport roomService from '../services/roomService';\n\nconst useIntroPage = () => {\n  const navigate = useNavigate();\n  const [roomID, setRoomID] = useState('');\n  const [error, setError] = useState('');\n  const [userRooms, setUserRooms] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n\n  const userEmail = localStorage.getItem('userEmail');\n\n  const createRoom = useCallback(async (creatorID) => {\n    try {\n      const result = await roomService.createRoom(creatorID);\n      toast.success('Room created successfully.');\n      return result; // { message, RoomID }\n    } catch (err) {\n      console.error(err);\n      toast.error('Failed to create room.');\n      throw err;\n    }\n  }, []);\n\n  const getRoomsByEmail = useCallback(async (email) => {\n    try {\n      const data = await roomService.getRoomsByEmail(email);\n      return data.rooms || [];\n    } catch (err) {\n      console.error(err);\n      toast.error('Failed to fetch rooms by email.');\n      return [];\n    }\n  }, []);\n\n  const removeRoom = useCallback(async ({roomID, email}) => {\n    try {\n      const result = await roomService.removeRoomData({ roomID, email});\n      toast.success('Room removed successfully.');\n      return result;\n    } catch (err) {\n      console.error(err);\n      toast.error('Failed to remove room.');\n      throw err;\n    }\n  }, [])\n\n  const fetchRooms = useCallback(async () => {\n    if (!userEmail) {\n      toast.error('Please log in to view your rooms');\n      return;\n    }\n\n    setIsLoading(true);\n    try {\n      const rooms = await getRoomsByEmail(userEmail);\n      setUserRooms(rooms);\n    } catch {\n      toast.error('Could not fetch rooms');\n    } finally {\n      setIsLoading(false);\n    }\n  }, [userEmail, getRoomsByEmail]);\n\n  const handleJoinRoom = () => {\n    const trimmedID = roomID.trim();\n    if (!trimmedID) {\n      setError('Please enter a Room ID');\n      return;\n    }\n    setError('');\n    navigate(`/room/${trimmedID}`);\n  };\n\n  const handleCreateRoom = async () => {\n    if (!userEmail) {\n      toast.error('Please log in to create a room');\n      return;\n    }\n  \n    setIsLoading(true);\n    try {\n      const trimmedID = roomID.trim();\n      let res = null;  // ✅ use let instead of const\n  \n      if (!trimmedID) {\n        res = await createRoom(userEmail);\n      } else {\n        res = await createRoom(userEmail, trimmedID);\n      }\n  \n      const newRoomId = res.RoomID;\n      navigate(`/room/${newRoomId}`);\n    } catch {\n      toast.error('Failed to create room. Please try again.');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleDeleteRoom = async (roomID) => {\n    if (!window.confirm('Are you sure you want to delete this room?')) return;\n    try {\n      await removeRoom({ roomID, email: userEmail });\n      fetchRooms();\n    } catch {\n      toast.error('Failed to delete room');\n    }\n  };\n\n  useEffect(() => {\n    fetchRooms();\n  }, [fetchRooms]);\n\n  return {\n    roomID,\n    setRoomID,\n    error,\n    setError,\n    isLoading,\n    userRooms,\n    handleJoinRoom,\n    handleCreateRoom,\n    handleDeleteRoom,\n  };\n};\n\nexport default useIntroPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}