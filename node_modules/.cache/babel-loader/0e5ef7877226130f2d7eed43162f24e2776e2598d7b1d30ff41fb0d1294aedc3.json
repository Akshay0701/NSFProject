{"ast":null,"code":"import React,{useState}from'react';import{useLocation,useNavigate}from'react-router-dom';import'./ProfilePage.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const ProfilePage=()=>{var _location$state;const location=useLocation();const navigate=useNavigate();const profiles=((_location$state=location.state)===null||_location$state===void 0?void 0:_location$state.profiles)||[];const[isCreatingTeams,setIsCreatingTeams]=useState(false);const handleCreateTeams=async()=>{if(profiles.length===0)return;setIsCreatingTeams(true);try{const response=await fetch('http://127.0.0.1:5000/teamcreation',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(profiles)});if(!response.ok)throw new Error('Failed to create teams');const data=await response.json();navigate('/teams',{state:{teams:data}});}catch(error){console.error(error);alert('Error creating teams. Please try again.');}finally{setIsCreatingTeams(false);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"profile-page\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"page-header\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"page-title\",children:\"Researcher Profiles\"}),/*#__PURE__*/_jsx(\"div\",{className:\"header-actions\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/'),className:\"back-button\",children:\"\\u2190 Back to Home\"})})]}),profiles.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"empty-state\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"empty-icon\",children:\"\\uD83E\\uDDD1\\uD83D\\uDD2C\"}),/*#__PURE__*/_jsx(\"p\",{className:\"empty-message\",children:\"No profiles available. Please submit researcher profiles from the homepage.\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"profiles-grid\",children:profiles.map((profile,index)=>{var _profile$research_top;return/*#__PURE__*/_jsxs(\"div\",{className:\"profile-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card-header\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"researcher-name\",children:profile.name}),profile.affiliation&&/*#__PURE__*/_jsx(\"p\",{className:\"affiliation\",children:profile.affiliation})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"research-section\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"section-title\",children:\"Research Topics\"}),((_profile$research_top=profile.research_topics)===null||_profile$research_top===void 0?void 0:_profile$research_top.length)>0?/*#__PURE__*/_jsx(\"div\",{className:\"topics-container\",children:profile.research_topics.map((topic,idx)=>/*#__PURE__*/_jsx(\"span\",{className:\"topic-tag\",children:topic},idx))}):/*#__PURE__*/_jsx(\"p\",{className:\"no-topics\",children:\"No research topics extracted\"})]})]},index);})}),/*#__PURE__*/_jsx(\"div\",{className:\"actions-container\",children:/*#__PURE__*/_jsx(\"button\",{onClick:handleCreateTeams,disabled:isCreatingTeams||profiles.length===0,className:`create-teams-button ${isCreatingTeams?'loading':''}`,children:isCreatingTeams?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"loading-spinner\"}),\"Generating Teams...\"]}):'Create Research Teams'})})]});};export default ProfilePage;","map":{"version":3,"names":["React","useState","useLocation","useNavigate","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ProfilePage","_location$state","location","navigate","profiles","state","isCreatingTeams","setIsCreatingTeams","handleCreateTeams","length","response","fetch","method","headers","body","JSON","stringify","ok","Error","data","json","teams","error","console","alert","className","children","onClick","map","profile","index","_profile$research_top","name","affiliation","research_topics","topic","idx","disabled"],"sources":["/Users/akshayjadhav/Documents/GitHub/NSFProject/src/profilepage/ProfilePage.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useLocation, useNavigate } from 'react-router-dom';\nimport './ProfilePage.css';\n\nconst ProfilePage = () => {\n  const location = useLocation();\n  const navigate = useNavigate();\n  const profiles = location.state?.profiles || [];\n  const [isCreatingTeams, setIsCreatingTeams] = useState(false);\n\n  const handleCreateTeams = async () => {\n    if (profiles.length === 0) return;\n    \n    setIsCreatingTeams(true);\n    try {\n      const response = await fetch('http://127.0.0.1:5000/teamcreation', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(profiles)\n      });\n      \n      if (!response.ok) throw new Error('Failed to create teams');\n      const data = await response.json();\n      navigate('/teams', { state: { teams: data } });\n    } catch (error) {\n      console.error(error);\n      alert('Error creating teams. Please try again.');\n    } finally {\n      setIsCreatingTeams(false);\n    }\n  };\n\n  return (\n    <div className=\"profile-page\">\n      <header className=\"page-header\">\n        <h1 className=\"page-title\">Researcher Profiles</h1>\n        <div className=\"header-actions\">\n          <button \n            onClick={() => navigate('/')}\n            className=\"back-button\"\n          >\n            ‚Üê Back to Home\n          </button>\n        </div>\n      </header>\n\n      {profiles.length === 0 ? (\n        <div className=\"empty-state\">\n          <div className=\"empty-icon\">üßëüî¨</div>\n          <p className=\"empty-message\">\n            No profiles available. Please submit researcher profiles from the homepage.\n          </p>\n        </div>\n      ) : (\n        <div className=\"profiles-grid\">\n          {profiles.map((profile, index) => (\n            <div key={index} className=\"profile-card\">\n              <div className=\"card-header\">\n                <h2 className=\"researcher-name\">{profile.name}</h2>\n                {profile.affiliation && (\n                  <p className=\"affiliation\">{profile.affiliation}</p>\n                )}\n              </div>\n              \n              <div className=\"research-section\">\n                <h3 className=\"section-title\">Research Topics</h3>\n                {profile.research_topics?.length > 0 ? (\n                  <div className=\"topics-container\">\n                    {profile.research_topics.map((topic, idx) => (\n                      <span key={idx} className=\"topic-tag\">{topic}</span>\n                    ))}\n                  </div>\n                ) : (\n                  <p className=\"no-topics\">No research topics extracted</p>\n                )}\n              </div>\n            </div>\n          ))}\n        </div>\n      )}\n\n      <div className=\"actions-container\">\n        <button\n          onClick={handleCreateTeams}\n          disabled={isCreatingTeams || profiles.length === 0}\n          className={`create-teams-button ${isCreatingTeams ? 'loading' : ''}`}\n        >\n          {isCreatingTeams ? (\n            <>\n              <div className=\"loading-spinner\"></div>\n              Generating Teams...\n            </>\n          ) : (\n            'Create Research Teams'\n          )}\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default ProfilePage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}