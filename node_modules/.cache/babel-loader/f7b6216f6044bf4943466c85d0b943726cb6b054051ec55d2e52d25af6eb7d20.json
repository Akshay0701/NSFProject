{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useCallback, useEffect, useState } from 'react';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport { toast } from 'react-toastify';\nimport useRoomPage from './useRoomPage';\nimport computingService from '../services/computingService';\nconst useTeamPage = () => {\n  _s();\n  const {\n    roomId\n  } = useParams();\n  const navigate = useNavigate();\n  const {\n    fetchTeams\n  } = useRoomPage();\n  const [teams, setTeams] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [isGeneratingProposals, setIsGeneratingProposals] = useState(false);\n  const generateProposals = useCallback(async roomID => {\n    setIsGeneratingProposals(true);\n    try {\n      const result = await computingService.generateProposalsForRoom(roomID);\n      toast.success('Proposals generated successfully!');\n      navigate(`/room/${roomID}/teamswithproposal`);\n      return result;\n    } catch (err) {\n      console.error(err);\n      toast.error('Failed to generate proposals.');\n      return null;\n    } finally {\n      setIsGeneratingProposals(false);\n    }\n  }, [navigate]);\n  const loadTeams = useCallback(async () => {\n    try {\n      const teamData = await fetchTeams(roomId);\n      setTeams(teamData || []);\n    } catch (err) {\n      console.error('Error loading teams:', err);\n      toast.error('Failed to load teams');\n    } finally {\n      setLoading(false);\n    }\n  }, [roomId, fetchTeams]);\n  const handleGenerateProposals = useCallback(async () => {\n    try {\n      await generateProposals(roomId);\n    } catch (err) {\n      console.error('Proposal generation failed:', err);\n      toast.error('Failed to generate proposals');\n    }\n  }, [roomId, generateProposals]);\n  useEffect(() => {\n    loadTeams();\n  }, [loadTeams]);\n  return {\n    roomId,\n    teams,\n    loading,\n    isGeneratingProposals,\n    navigate,\n    handleGenerateProposals\n  };\n};\n_s(useTeamPage, \"WZJXSSpoLiWXFBE5z84fnVOrRhw=\", false, function () {\n  return [useParams, useNavigate, useRoomPage];\n});\nexport default useTeamPage;","map":{"version":3,"names":["useCallback","useEffect","useState","useNavigate","useParams","toast","useRoomPage","computingService","useTeamPage","_s","roomId","navigate","fetchTeams","teams","setTeams","loading","setLoading","isGeneratingProposals","setIsGeneratingProposals","generateProposals","roomID","result","generateProposalsForRoom","success","err","console","error","loadTeams","teamData","handleGenerateProposals"],"sources":["/Users/akshayjadhav/Documents/GitHub/NSFResearchLocal/src/hooks/useTeamPage.js"],"sourcesContent":["import { useCallback, useEffect, useState } from 'react';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport { toast } from 'react-toastify';\nimport useRoomPage from './useRoomPage';\nimport computingService from '../services/computingService';\n\nconst useTeamPage = () => {\n  const { roomId } = useParams();\n  const navigate = useNavigate();\n\n  const { fetchTeams } = useRoomPage();\n\n  const [teams, setTeams] = useState([]);\n  const [loading, setLoading] = useState(true);\n\n  const [isGeneratingProposals, setIsGeneratingProposals] = useState(false);\n\n  const generateProposals = useCallback(async (roomID) => {\n    setIsGeneratingProposals(true);\n    try {\n      const result = await computingService.generateProposalsForRoom(roomID);\n      toast.success('Proposals generated successfully!');\n      navigate(`/room/${roomID}/teamswithproposal`);\n      return result;\n    } catch (err) {\n      console.error(err);\n      toast.error('Failed to generate proposals.');\n      return null;\n    } finally {\n      setIsGeneratingProposals(false);\n    }\n  }, [navigate]);\n\n  const loadTeams = useCallback(async () => {\n    try {\n      const teamData = await fetchTeams(roomId);\n      setTeams(teamData || []);\n    } catch (err) {\n      console.error('Error loading teams:', err);\n      toast.error('Failed to load teams');\n    } finally {\n      setLoading(false);\n    }\n  }, [roomId, fetchTeams]);\n\n  const handleGenerateProposals = useCallback(async () => {\n    try {\n      await generateProposals(roomId);\n    } catch (err) {\n      console.error('Proposal generation failed:', err);\n      toast.error('Failed to generate proposals');\n    }\n  }, [roomId, generateProposals]);\n\n  useEffect(() => {\n    loadTeams();\n  }, [loadTeams]);\n\n  return {\n    roomId,\n    teams,\n    loading,\n    isGeneratingProposals,\n    navigate,\n    handleGenerateProposals,\n  };\n};\n\nexport default useTeamPage;\n"],"mappings":";AAAA,SAASA,WAAW,EAAEC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AACxD,SAASC,WAAW,EAAEC,SAAS,QAAQ,kBAAkB;AACzD,SAASC,KAAK,QAAQ,gBAAgB;AACtC,OAAOC,WAAW,MAAM,eAAe;AACvC,OAAOC,gBAAgB,MAAM,8BAA8B;AAE3D,MAAMC,WAAW,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACxB,MAAM;IAAEC;EAAO,CAAC,GAAGN,SAAS,CAAC,CAAC;EAC9B,MAAMO,QAAQ,GAAGR,WAAW,CAAC,CAAC;EAE9B,MAAM;IAAES;EAAW,CAAC,GAAGN,WAAW,CAAC,CAAC;EAEpC,MAAM,CAACO,KAAK,EAAEC,QAAQ,CAAC,GAAGZ,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACa,OAAO,EAAEC,UAAU,CAAC,GAAGd,QAAQ,CAAC,IAAI,CAAC;EAE5C,MAAM,CAACe,qBAAqB,EAAEC,wBAAwB,CAAC,GAAGhB,QAAQ,CAAC,KAAK,CAAC;EAEzE,MAAMiB,iBAAiB,GAAGnB,WAAW,CAAC,MAAOoB,MAAM,IAAK;IACtDF,wBAAwB,CAAC,IAAI,CAAC;IAC9B,IAAI;MACF,MAAMG,MAAM,GAAG,MAAMd,gBAAgB,CAACe,wBAAwB,CAACF,MAAM,CAAC;MACtEf,KAAK,CAACkB,OAAO,CAAC,mCAAmC,CAAC;MAClDZ,QAAQ,CAAC,SAASS,MAAM,oBAAoB,CAAC;MAC7C,OAAOC,MAAM;IACf,CAAC,CAAC,OAAOG,GAAG,EAAE;MACZC,OAAO,CAACC,KAAK,CAACF,GAAG,CAAC;MAClBnB,KAAK,CAACqB,KAAK,CAAC,+BAA+B,CAAC;MAC5C,OAAO,IAAI;IACb,CAAC,SAAS;MACRR,wBAAwB,CAAC,KAAK,CAAC;IACjC;EACF,CAAC,EAAE,CAACP,QAAQ,CAAC,CAAC;EAEd,MAAMgB,SAAS,GAAG3B,WAAW,CAAC,YAAY;IACxC,IAAI;MACF,MAAM4B,QAAQ,GAAG,MAAMhB,UAAU,CAACF,MAAM,CAAC;MACzCI,QAAQ,CAACc,QAAQ,IAAI,EAAE,CAAC;IAC1B,CAAC,CAAC,OAAOJ,GAAG,EAAE;MACZC,OAAO,CAACC,KAAK,CAAC,sBAAsB,EAAEF,GAAG,CAAC;MAC1CnB,KAAK,CAACqB,KAAK,CAAC,sBAAsB,CAAC;IACrC,CAAC,SAAS;MACRV,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC,EAAE,CAACN,MAAM,EAAEE,UAAU,CAAC,CAAC;EAExB,MAAMiB,uBAAuB,GAAG7B,WAAW,CAAC,YAAY;IACtD,IAAI;MACF,MAAMmB,iBAAiB,CAACT,MAAM,CAAC;IACjC,CAAC,CAAC,OAAOc,GAAG,EAAE;MACZC,OAAO,CAACC,KAAK,CAAC,6BAA6B,EAAEF,GAAG,CAAC;MACjDnB,KAAK,CAACqB,KAAK,CAAC,8BAA8B,CAAC;IAC7C;EACF,CAAC,EAAE,CAAChB,MAAM,EAAES,iBAAiB,CAAC,CAAC;EAE/BlB,SAAS,CAAC,MAAM;IACd0B,SAAS,CAAC,CAAC;EACb,CAAC,EAAE,CAACA,SAAS,CAAC,CAAC;EAEf,OAAO;IACLjB,MAAM;IACNG,KAAK;IACLE,OAAO;IACPE,qBAAqB;IACrBN,QAAQ;IACRkB;EACF,CAAC;AACH,CAAC;AAACpB,EAAA,CA5DID,WAAW;EAAA,QACIJ,SAAS,EACXD,WAAW,EAELG,WAAW;AAAA;AA0DpC,eAAeE,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}